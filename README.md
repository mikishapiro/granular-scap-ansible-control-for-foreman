# granular-scap-ansible-control-for-foreman
Add granular control over SCAP remediations for foreman

Adds a "when" clause to each play in the autogenerated ansible SCAP policy compliance yaml files. 
For plays that have no CCE tag, only a "when in policies" is added. 
For plays with a CCE tag, a second "when not in policy_exemptions" is added. 

This is intended to be used with a group_vars/all, where policies and policy_exemptions are defined. 
They can further be set to foreman_params.policies and foreman_params.groupvars and controlled out of foreman. 

Example locally defined group_vars/all may include:
```
policies:
  - DISA-STIG-RHEL-07-020000
  - NIST-800-171-3.1.13
policy_exemptions:
  - CCE-26969-4
  - CCE-80148-0
  - CCE-80146-4
  - CCE-80147-2
```
This is a temporary workaround. A better approach would be adding this functionality directly to oscap generate.
